{% extends "base.html" %}
{% load static %}

{% block title %}Eliminar Orden {{ orden.numero_orden }} - GestionCloud{% endblock %}

{% block body_class %}hide-top-bar{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            <div class="card shadow-sm" style="border: none; border-radius: 15px; overflow: hidden; margin-top: 50px;">
                <!-- Header -->
                <div class="card-header" style="background: linear-gradient(135deg, #dc3545 0%, #bd2130 100%); border: none; padding: 20px; font-family: 'Poppins', sans-serif;">
                    <div class="text-center">
                        <i class="fas fa-exclamation-triangle fa-3x text-white mb-3"></i>
                        <h4 class="mb-0 text-white" style="font-size: 1.5rem; font-family: 'Poppins', sans-serif; font-weight: 600;">
                            Confirmar Eliminación
                        </h4>
                        <p class="text-white-50 mb-0 mt-2" style="font-size: 1rem; font-family: 'Poppins', sans-serif;">
                            Esta acción no se puede deshacer
                        </p>
                    </div>
                </div>
                
                <div class="card-body" style="padding: 30px;">
                    <div class="text-center mb-4">
                        <h5 style="color: #2c3e50; font-family: 'Poppins', sans-serif; font-weight: 600; margin-bottom: 1rem;">
                            ¿Estás seguro de que deseas eliminar esta orden de compra?
                        </h5>
                        <p style="color: #6c757d; font-family: 'Poppins', sans-serif; margin-bottom: 0;">
                            Se eliminará permanentemente la orden <strong>{{ orden.numero_orden }}</strong> y todos sus datos asociados.
                        </p>
                    </div>
                    
                    <!-- Información de la Orden -->
                    <div class="alert alert-warning" style="border-radius: 10px; border: 1px solid #ffeaa7; background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%); margin-bottom: 20px;">
                        <div class="row">
                            <div class="col-md-6">
                                <strong style="color: #856404; font-family: 'Poppins', sans-serif;">Proveedor:</strong><br>
                                <span style="color: #856404; font-family: 'Poppins', sans-serif;">{{ orden.proveedor }}</span>
                            </div>
                            <div class="col-md-6">
                                <strong style="color: #856404; font-family: 'Poppins', sans-serif;">Total:</strong><br>
                                <span style="color: #856404; font-family: 'Poppins', sans-serif;">${{ orden.total_orden|floatformat:0 }}</span>
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-md-6">
                                <strong style="color: #856404; font-family: 'Poppins', sans-serif;">Estado:</strong><br>
                                <span class="badge" style="background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%); color: white; font-size: 0.8rem; padding: 0.4rem 0.8rem; border-radius: 20px; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px;">
                                    {{ orden.get_estado_display }}
                                </span>
                            </div>
                            <div class="col-md-6">
                                <strong style="color: #856404; font-family: 'Poppins', sans-serif;">Items:</strong><br>
                                <span style="color: #856404; font-family: 'Poppins', sans-serif;">{{ orden.items.count }} artículo(s)</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Advertencia -->
                    <div class="alert alert-danger" style="border-radius: 10px; border: 1px solid #f5c6cb; background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);">
                        <div class="d-flex align-items-start">
                            <i class="fas fa-exclamation-circle fa-lg text-danger me-3 mt-1"></i>
                            <div>
                                <h6 class="alert-heading" style="color: #721c24; font-family: 'Poppins', sans-serif; font-weight: 600; margin-bottom: 0.5rem;">
                                    ¡Advertencia!
                                </h6>
                                <p class="mb-0" style="color: #721c24; font-family: 'Poppins', sans-serif; font-size: 0.9rem;">
                                    Esta acción eliminará permanentemente:
                                </p>
                                <ul class="mb-0 mt-2" style="color: #721c24; font-family: 'Poppins', sans-serif; font-size: 0.9rem;">
                                    <li>La orden de compra y todos sus datos</li>
                                    <li>Todos los items asociados</li>
                                    <li>El historial de la orden</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Botones de Acción -->
                    <form method="post" class="text-center">
                        {% csrf_token %}
                        <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                            <button type="submit" class="btn btn-lg" style="background: linear-gradient(135deg, #dc3545 0%, #bd2130 100%); border: none; color: white; border-radius: 10px; font-weight: 500; font-family: 'Poppins', sans-serif; padding: 12px 30px;">
                                <i class="fas fa-trash me-2"></i>Sí, Eliminar Orden
                            </button>
                            <a href="{% url 'compras:orden_compra_detail' orden.pk %}" class="btn btn-lg btn-secondary" style="border-radius: 10px; font-weight: 500; font-family: 'Poppins', sans-serif; padding: 12px 30px;">
                                <i class="fas fa-times me-2"></i>Cancelar
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
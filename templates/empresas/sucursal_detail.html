{% extends "base.html" %}

{% block body_class %}hide-top-bar{% endblock %}

{% block content %}
<div class="container py-4">
	<div class="d-flex justify-content-between align-items-center mb-4">
		<h3 class="m-0">{{ sucursal.nombre }}</h3>
		<div>
			<a href="{% url 'empresas:sucursal_update' sucursal.id %}" class="btn btn-dark me-2">Editar</a>
			<a href="{% url 'empresas:sucursal_list' sucursal.empresa.id %}" class="btn btn-outline-dark">Volver</a>
		</div>
	</div>
	
	<div class="row">
		<div class="col-md-8">
			<div class="card mb-4">
				<div class="card-header">
					<h5 class="m-0">Información de la Sucursal</h5>
				</div>
				<div class="card-body">
					<div class="row">
						<div class="col-md-6">
							<p><strong>Código:</strong> {{ sucursal.codigo }}</p>
							<p><strong>Empresa:</strong> {{ sucursal.empresa.nombre }}</p>
							<p><strong>Dirección:</strong> {{ sucursal.direccion }}</p>
							<p><strong>Comuna:</strong> {{ sucursal.comuna }}</p>
							<p><strong>Ciudad:</strong> {{ sucursal.ciudad }}</p>
							<p><strong>Región:</strong> {{ sucursal.region }}</p>
						</div>
						<div class="col-md-6">
							<p><strong>Teléfono:</strong> {{ sucursal.telefono }}</p>
							{% if sucursal.email %}
							<p><strong>Email:</strong> {{ sucursal.email }}</p>
							{% endif %}
							<p><strong>Estado:</strong> 
								{% if sucursal.estado == 'activa' %}
								<span class="badge bg-success">Activa</span>
								{% elif sucursal.estado == 'inactiva' %}
								<span class="badge bg-danger">Inactiva</span>
								{% else %}
								<span class="badge bg-warning">En Construcción</span>
								{% endif %}
							</p>
							<p><strong>Horario:</strong> {{ sucursal.horario_apertura|time:"H:i" }} - {{ sucursal.horario_cierre|time:"H:i" }}</p>
							<p><strong>Tipo:</strong> 
								{% if sucursal.es_principal %}
								<span class="badge bg-primary">Sucursal Principal</span>
								{% else %}
								<span class="badge bg-secondary">Sucursal Secundaria</span>
								{% endif %}
							</p>
						</div>
					</div>
				</div>
			</div>
			
			<div class="card">
				<div class="card-header">
					<h5 class="m-0">Resumen de Actividad</h5>
				</div>
				<div class="card-body">
					<div class="row text-center">
						<div class="col-md-3">
							<div class="border rounded p-3">
								<h4 style="color: #1E40AF;">0</h4>
								<small>Productos</small>
							</div>
						</div>
						<div class="col-md-3">
							<div class="border rounded p-3">
								<h4 class="text-success">0</h4>
								<small>Ventas</small>
							</div>
						</div>
						<div class="col-md-3">
							<div class="border rounded p-3">
								<h4 class="text-info">0</h4>
								<small>Clientes</small>
							</div>
						</div>
						<div class="col-md-3">
							<div class="border rounded p-3">
								<h4 class="text-warning">0</h4>
								<small>Empleados</small>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<div class="col-md-4">
			<div class="card mb-4">
				<div class="card-header">
					<h6 class="m-0">Información de la Empresa</h6>
				</div>
				<div class="card-body">
					<p><strong>Empresa:</strong> {{ sucursal.empresa.nombre }}</p>
					<p><strong>RUT:</strong> {{ sucursal.empresa.rut }}</p>
					<p><strong>Ciudad:</strong> {{ sucursal.empresa.ciudad }}</p>
					<p><strong>Estado:</strong> 
						{% if sucursal.empresa.estado == 'activa' %}
						<span class="badge bg-success">Activa</span>
						{% elif sucursal.empresa.estado == 'inactiva' %}
						<span class="badge bg-danger">Inactiva</span>
						{% else %}
						<span class="badge bg-warning">Suspendida</span>
						{% endif %}
					</p>
				</div>
			</div>
			
			<div class="card">
				<div class="card-header">
					<h6 class="m-0">Acciones Rápidas</h6>
				</div>
				<div class="card-body">
					<div class="d-grid gap-2">
						<a href="#" class="btn btn-outline-dark btn-sm">Gestionar Productos</a>
						<a href="#" class="btn btn-outline-dark btn-sm">Ver Ventas</a>
						<a href="#" class="btn btn-outline-dark btn-sm">Gestionar Clientes</a>
						<a href="#" class="btn btn-outline-dark btn-sm">Reportes</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}
